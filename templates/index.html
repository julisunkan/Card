{% extends "base.html" %}

{% block title %}Create Business Card - Business Card Generator{% endblock %}

{% block content %}
<div class="mobile-container">
    <!-- Personal Info Section -->
    <div class="mobile-section">
        <div class="section-header">
            <i class="fas fa-user-circle"></i>
            <h3>Personal Info</h3>
        </div>
        <form id="cardForm" method="POST" action="{{ url_for('preview') }}" enctype="multipart/form-data">
            <div class="mobile-form-group">
                <div class="form-floating">
                    <input type="text" class="form-control mobile-input" id="name" name="name" required placeholder="Full Name">
                    <label for="name"><i class="fas fa-user me-2"></i>Full Name</label>
                </div>
            </div>
            
            <div class="mobile-form-group">
                <div class="form-floating">
                    <input type="text" class="form-control mobile-input" id="job_title" name="job_title" placeholder="Job Title">
                    <label for="job_title"><i class="fas fa-briefcase me-2"></i>Job Title</label>
                </div>
            </div>
            
            <div class="mobile-form-group">
                <div class="form-floating">
                    <input type="text" class="form-control mobile-input" id="company" name="company" placeholder="Company">
                    <label for="company"><i class="fas fa-building me-2"></i>Company</label>
                </div>
            </div>
    </div>

    <!-- Contact Info Section -->
    <div class="mobile-section">
        <div class="section-header">
            <i class="fas fa-address-book"></i>
            <h3>Contact Info</h3>
        </div>
        
        <div class="mobile-form-group">
            <div class="form-floating">
                <input type="email" class="form-control mobile-input" id="email" name="email" placeholder="Email">
                <label for="email"><i class="fas fa-envelope me-2"></i>Email</label>
            </div>
        </div>
        
        <div class="mobile-form-group">
            <div class="form-floating">
                <input type="tel" class="form-control mobile-input" id="phone" name="phone" placeholder="Phone">
                <label for="phone"><i class="fas fa-phone me-2"></i>Phone</label>
            </div>
        </div>
        
        <div class="mobile-form-group">
            <div class="form-floating">
                <input type="url" class="form-control mobile-input" id="website" name="website" placeholder="Website">
                <label for="website"><i class="fas fa-globe me-2"></i>Website</label>
            </div>
        </div>
        
        <div class="mobile-form-group">
            <div class="form-floating">
                <textarea class="form-control mobile-input" id="address" name="address" placeholder="Address" style="height: 80px"></textarea>
                <label for="address"><i class="fas fa-map-marker-alt me-2"></i>Address</label>
            </div>
        </div>
    </div>

    <!-- Social Media Section -->
    <div class="mobile-section">
        <div class="section-header">
            <i class="fas fa-share-alt"></i>
            <h3>Social Media <small class="opacity-75">(Max 1)</small></h3>
        </div>
        
        <div id="social-media-container">
            <!-- Social media entries will be added here -->
        </div>
        
        <div class="mobile-form-group">
            <button type="button" class="btn btn-outline-primary mobile-btn" id="add-social-media" onclick="addSocialMedia()">
                <i class="fas fa-plus me-2"></i>Add Social Media
            </button>
        </div>
    </div>

    <!-- Design Section -->
    <div class="mobile-section">
        <div class="section-header">
            <i class="fas fa-palette"></i>
            <h3>Design Options</h3>
        </div>
                                </label>
                                <input type="text" class="form-control" id="name" name="name" required placeholder="👤 John Doe">
                            </div>
                            
                            <div class="mb-3">
                                <label for="job_title" class="form-label">
                                    <i class="fas fa-briefcase me-2 text-success"></i>Job Title
                                </label>
                                <input type="text" class="form-control" id="job_title" name="job_title" placeholder="💼 Software Engineer">
                            </div>
                            
                            <div class="mb-3">
                                <label for="company" class="form-label">
                                    <i class="fas fa-building me-2 text-info"></i>Company
                                </label>
                                <input type="text" class="form-control" id="company" name="company" placeholder="🏢 Tech Corp">
                            </div>
                            
                            <div class="mb-3">
                                <label for="email" class="form-label">
                                    <i class="fas fa-envelope me-2 text-warning"></i>Email
                                </label>
                                <input type="email" class="form-control" id="email" name="email" placeholder="📧 john@example.com">
                            </div>
                            
                            <div class="mb-3">
                                <label for="phone" class="form-label">
                                    <i class="fas fa-phone me-2 text-success"></i>Phone
                                </label>
                                <input type="tel" class="form-control" id="phone" name="phone" placeholder="📱 +1 (555) 123-4567">
                            </div>
                            
                            <div class="mb-3">
                                <label for="website" class="form-label">
                                    <i class="fas fa-globe me-2 text-primary"></i>Website
                                </label>
                                <input type="url" class="form-control" id="website" name="website" placeholder="🌍 https://example.com">
                            </div>
                            
                            <div class="mb-3">
                                <label for="address" class="form-label">
                                    <i class="fas fa-map-marker-alt me-2 text-danger"></i>Address
                                </label>
                                <textarea class="form-control" id="address" name="address" rows="2" placeholder="🏢 123 Main St, City, State 12345"></textarea>
                            </div>
                            
                            <h6 class="mb-3 mt-4">Social Media <small class="text-muted">(Max 1 account)</small></h6>
                            
                            <div id="social-media-container">
                                <!-- Social media entries will be added here -->
                            </div>
                            
                            <div class="mb-3">
                                <button type="button" class="btn btn-outline-secondary btn-sm" id="add-social-media" onclick="addSocialMedia()">
                                    <i class="fas fa-plus me-1"></i>Add Social Media
                                </button>
                            </div>
        <div class="mobile-form-group">
            <label class="mobile-label">
                <i class="fas fa-id-card me-2"></i>Template
            </label>
            <select class="form-select mobile-select" id="template" name="template">
                {% for template in templates %}
                <option value="{{ template.id }}">{{ template.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mobile-form-group">
            <label class="mobile-label">
                <i class="fas fa-paint-brush me-2"></i>Color Scheme
            </label>
            <select class="form-select mobile-select" id="color" name="color">
                {% for color in colors %}
                <option value="{{ color.id }}">{{ color.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mobile-form-group">
            <label class="mobile-label">
                <i class="fas fa-font me-2"></i>Font Style
            </label>
            <select class="form-select mobile-select" id="font" name="font">
                {% for font in fonts %}
                <option value="{{ font.id }}">{{ font.name }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="mobile-form-group">
            <label class="mobile-label">
                <i class="fas fa-align-left me-2"></i>Text Alignment
            </label>
            <select class="form-select mobile-select" id="text_align" name="text_align">
                <option value="left">Left Aligned</option>
                <option value="center">Center Aligned</option>
            </select>
        </div>
        
        <div class="mobile-form-group">
            <label class="mobile-label">
                <i class="fas fa-image me-2"></i>Company Logo
            </label>
            <input type="file" class="form-control mobile-file-input" id="logo" name="logo" accept="image/*">
            <div class="form-help">PNG, JPG, or SVG (max 16MB)</div>
        </div>
        
        <div class="mobile-toggle">
            <label class="toggle-switch">
                <input type="checkbox" id="include_qr" name="include_qr" checked>
                <span class="toggle-slider"></span>
                <span class="toggle-label">Include QR Code (vCard)</span>
            </label>
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="mobile-actions">
        <button type="submit" class="btn btn-primary mobile-btn-primary">
            <i class="fas fa-eye me-2"></i>Preview Card
        </button>
        <button type="button" class="btn btn-outline-secondary mobile-btn-secondary" onclick="clearForm()">
            <i class="fas fa-refresh me-2"></i>Reset
        </button>
    </div>
    
    </form>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
function clearForm() {
    document.getElementById('cardForm').reset();
}


// Real-time preview could be implemented here with AJAX
// For now, using form submission for simplicity as per guidelines
</script>
{% endblock %}
